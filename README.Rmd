---
output: github_document
---

```{r setup, include = FALSE}
library(magrittr)
library(dplyr)
library(incon)
library(DT)
library(knitr)
library(tibble)

knitr::opts_chunk$set(
  echo = FALSE,
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# incon - Computational Models of Instantaneous Consonance

[![lifecycle](https://img.shields.io/badge/lifecycle-maturing-blue.svg)](https://www.tidyverse.org/lifecycle/#maturing)

`incon` is an R package that implements various computational 
models of instantaneous consonance perception.

## Authors

This package, and the supporting packages listed in *Packages*,
were created by Peter M. C. Harrison as part of a research project
supervised by Marcus T. Pearce and Emmanouil Benetos.

## Installation

You can install the current version of `incon` from Github
by entering the following commands into R:

``` r
if (!require(devtools)) install.packages("devtools")
devtools::install_github("incon")
```

## Usage 

The primary function is `incon`, 
which applies consonance models to an input chord.
The default model is that of Hutchinson & Knopoff (1978):

```{r, include = TRUE}
library(incon)

chord <- c(60, 64, 67) # major triad, MIDI note numbers
incon(chord)
```

You can specify a vector of models and these will applied in turn.

```{r, include = TRUE}
chord <- c(60, 63, 67) # minor triad
models <- c("hutch_78_roughness", 
            "parn_94_pure",
            "huron_94_dyadic")
incon(c(60, 63, 67), models)
      
```

See *Models* for a list of available models.
See the package's inbuilt documentation, `?incon`, for further details.

## Models

Currently the following models are implemented:

```{r, results = "asis"}
incon::incon_models %>% 
  select(label, citation, class, package,) %>% 
  rename(Label = label, Citation = citation, Class = class, Package = package) %>% 
  kable
```

See `?incon` for more details.

## Packages

The functionality of `incon` is split between several low-level R packages,
listed below.

```{r, results = "asis"}
tribble(
  ~ Package, ~ DOI,
  "bowl18", NA,
  "corpdiss", NA,
  "dycon", NA,
  "har18", NA,
  "hcorp", NA,
  "hrep", NA,
  "jl12", NA,
  "parn88", NA,
  "parn94", NA,
  "stolz15", NA,
  "wang13", NA,
) %>% 
  mutate(GitHub = paste("https://github.com/pmcharrison/", 
                        Package,
                        sep = "")) %>% 
  kable
```
